Перед проведением тестирования на проникновение (пентеста) или аудита безопасности необходимо официальное разрешение от владельца системы. В противном случае такие действия могут быть квалифицированы как компьютерные преступления (ст. 272, 273 УК РФ, CFAA в США и др.).

1. Виды тестирования и уровень доступа
Тип тестирования	Уровень доступа	Требует письменного согласия?
Black Box	Тестирование без доступа к коду/сети	Да (если активное сканирование)
Gray Box	Частичный доступ (например, учётка пользователя)	Да
White Box	Полный доступ (код, конфиги, логины)	Да
Автоматическое сканирование (Nessus, Burp)	Пассивный анализ	Зависит от политики сайта (см. robots.txt, security.txt)
2. Как получить разрешение?
Для внешнего тестирования (публичные сервисы)
Проверить security.txt
Многие компании размещают контакты для ответственного за безопасность в файле:

https://example.com/.well-known/security.txt  
Пример содержимого:

Contact: security@example.com  
Encryption: https://example.com/pgp-key.txt  
Найти контакты в WHOIS

Через whois example.com можно узнать владельца домена.
Связаться через официальные каналы

Email (security@, abuse@), форма обратной связи, Bug Bounty-программа (если есть).
Для внутреннего тестирования (корпоративные сети)
Договор с заказчиком
Включает:
Границы тестирования (IP, домены).
Методы (DoS запрещён почти всегда).
Сроки.
Подписание NDA и соглашения о неразглашении
Обязательно, если тестируются коммерческие системы.
Юридическое оформление (для пентест-команд)
Доверенность от владельца инфраструктуры.
Письмо-разрешение на фирменном бланке.

3. Что должно быть в разрешении?
Документ должен содержать:
✅ Полные реквизиты сторон (заказчик и исполнитель).
✅ Список систем (домены, IP-адреса, API).
✅ Допустимые методы (сканирование, фаззинг, соц. инженерия – если разрешено).
✅ Запрещённые действия (например, эксплуатация уязвимостей в prod).
✅ Сроки проведения (чтобы не попасть под автоматические блокировки WAF).
✅ Пункт о конфиденциальности (запрет разглашения данных).

Пример формулировки:

"Компания «XXX» разрешает ООО «Пентест-Лаб» проводить тестирование на проникновение в период с 01.10.2024 по 15.10.2024 для следующих систем: example.com, 192.168.1.0/24. Запрещается эксплуатация уязвимостей без дополнительного согласования."

4. Особые случаи
Bug Bounty-программы
Разрешение не требуется, если тестирование проводится в рамках публичной программы (HackerOne, Bugcrowd).

Важно: Читать правила программы – некоторые домены/методы могут быть исключены.

Тестирование собственных систем
Достаточно внутреннего приказа, но лучше оформить документ (на случай проверок).

Законный обход защиты (ст. 1280.1 ГК РФ)
В РФ можно тестировать защиту ПО без согласия правообладателя, если цель – исследование безопасности (но с ограничениями).

5. Что делать, если разрешения нет?
❌ Не начинать тестирование – риск уголовной ответственности.
✅ Найти легальные варианты:

Участие в Bug Bounty.
Тестирование учебных стендов (HTB, Vulnhub).
Работа в рамках CTF (соревнований по безопасности).

6. Международные нормы (если тестируете за рубежом)
США (CFAA) – даже "неавторизованный доступ" к системе может быть преступлением.
Европа (GDPR) – тестирование с персональными данными требует особого согласия.
Вывод
Без письменного разрешения пентест = взлом.
Для легального тестирования нужен договор или участие в Bug Bounty.
Всегда уточняйте границы: что можно тестировать и какими методами.