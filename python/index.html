<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<title>Тесты</title>
	<link rel="icon" type="image/x-icon" href="/img/logo.png">
	<link rel="stylesheet" href="style/index.css">
</head>

<body>
	<main>
		<ul>
			<li id="test1">
				<a href="0type/1.html">❓</a>
			</li>
			<li id="test2">
				<a href="0type/2.html">✅</a>
			</li>
			<li id="test3">
				<a href="0type/3.html">❤️</a>
			</li>
			<li>
				<a href="0type/4.html">⁉️</a>
			</li>
			<li>
				<a href="0type/5.html">🆕</a>
			</li>
			<li>
				<a href="1num/1.html">🔢</a>
			</li>
			<li>
				<a href="2str/1.html">📶</a>
			</li>
			<li>
				<a href="3list/1.html">📁</a>
			</li>
			<li>
				<a href="4dict/1.html">🗄</a>
			</li>
		</ul>

		<div class="password-inputs">
			<input type="text" maxlength="1" id="input1" placeholder="1">
			<input type="text" maxlength="1" id="input2" placeholder="2">
			<input type="text" maxlength="1" id="input3" placeholder="3">
			<input type="text" maxlength="1" id="input4" placeholder="4">
		</div>

		<button class="reset-button" onclick="resetProgress()" disabled>Сбросить прогресс</button>
	</main>
	<script>
		if (localStorage.getItem('test_1_done') === 'true') {
			const test1Link = document.getElementById('test1');
			if (test1Link) {
				test1Link.classList.add('done');
			}
		}

		if (localStorage.getItem('test_2_done') === 'true') {
			const test2Link = document.getElementById('test2');
			if (test2Link) {
				test2Link.classList.add('done');
			}
		}

		if (localStorage.getItem('test_3_done') === 'true') {
			const test3Link = document.getElementById('test3');
			if (test3Link) {
				test3Link.classList.add('done');
			}
		}

		function resetProgress() {
			localStorage.removeItem('test_1_done');
			localStorage.removeItem('test_2_done');
			localStorage.removeItem('test_3_done');
			window.location.reload();
		}

		const inputs = document.querySelectorAll('.password-inputs input');
		const resetButton = document.querySelector('.reset-button');

		inputs.forEach((input, index) => {
			input.addEventListener('input', (e) => {
				if (e.target.value.length === 1) {
					if (index < inputs.length - 1) {
						inputs[index + 1].focus();
					}
				}

				const password = Array.from(inputs).map(input => input.value).join('');
				if (password === '1234') {
					resetButton.disabled = false;
				} else {
					resetButton.disabled = true;
				}
			});

			input.addEventListener('keydown', (e) => {
				if (e.key === 'Backspace' && index > 0 && !e.target.value) {
					inputs[index - 1].focus();
				}
			});
		});
	</script>
</body></html>