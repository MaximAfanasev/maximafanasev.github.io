<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>–¢—Ä–µ–Ω–∞–∂—ë—Ä: –£–º–Ω–æ–∂–∞–µ–º –Ω–∞ 2 üßÆ</title>
	<style>
		* {
			box-sizing: border-box;
			font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
		}

		body {
			background: linear-gradient(145deg, #f7f0fa 0%, #e9def0 100%);
			min-height: 100vh;
			margin: 0;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.card {
			background: rgba(255, 255, 255, 0.75);
			backdrop-filter: blur(6px);
			max-width: 550px;
			width: 90%;
			padding: 2.2rem 2rem 2.5rem;
			border-radius: 56px;
			box-shadow: 0 25px 40px -12px #5f4b6e,
				0 0 0 1px rgba(255, 255, 240, 0.5) inset;
			text-align: center;
			border: 1px solid #ffffff8c;
		}

		h1 {
			font-size: 2.5rem;
			font-weight: 700;
			color: #2d1b3c;
			margin-top: 0;
			margin-bottom: 0.25rem;
			letter-spacing: -0.5px;
			text-shadow: 3px 3px 0 #e4d2f0;
		}

		.subhead {
			font-size: 1.2rem;
			font-weight: 500;
			color: #4a375b;
			background: #dccfeb7a;
			display: inline-block;
			padding: 0.3rem 1.6rem;
			border-radius: 60px;
			margin-bottom: 2rem;
			border: 1px solid #ffffffb8;
			backdrop-filter: blur(2px);
		}

		.equation {
			background: #fcf7ff;
			border-radius: 100px;
			padding: 1.2rem 1rem;
			margin: 1.2rem 0 1.8rem;
			border: 3px solid #c1a9da;
			box-shadow: 0 8px 0 #917cb0;
		}

		.big-math {
			font-size: 4.2rem;
			font-weight: 800;
			color: #271a32;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 0.5rem;
			flex-wrap: wrap;
		}

		.big-math span {
			background: #e7dbf3;
			padding: 0.2rem 0.7rem;
			border-radius: 30px;
			font-size: 3rem;
			line-height: 1;
		}

		.input-area {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 1.5rem;
		}

		.answer-box {
			background: white;
			border-radius: 60px;
			border: 2px solid #b397d4;
			display: flex;
			width: 100%;
			max-width: 340px;
			box-shadow: 0 6px 0 #8b72a8;
		}

		.answer-box input {
			flex: 1;
			border: none;
			background: transparent;
			font-size: 2.2rem;
			font-weight: 600;
			padding: 0.8rem 1.5rem;
			outline: none;
			text-align: center;
			color: #1e0f2c;
			border-radius: 60px 0 0 60px;
		}

		.answer-box input::placeholder {
			color: #bfb0cf;
			font-size: 1.5rem;
			font-weight: 400;
		}

		.answer-box button {
			background: #ffcfb6;
			border: none;
			border-left: 3px solid #b397d4;
			font-size: 2rem;
			font-weight: bold;
			padding: 0 1.8rem;
			border-radius: 0 60px 60px 0;
			cursor: pointer;
			color: #371f4b;
			transition: 0.1s ease;
			box-shadow: -2px 2px 0 #8b72a8;
		}

		.answer-box button:hover {
			background: #ffe1cf;
			transform: scale(1.02);
		}

		.answer-box button:active {
			transform: translateY(2px);
			box-shadow: none;
		}

		.hint-message {
			font-size: 1.5rem;
			font-weight: 600;
			min-height: 3rem;
			padding: 0.5rem 1.5rem;
			background: #ffecbc;
			border-radius: 50px;
			display: inline-block;
			border: 1px solid #ffc9a9;
		}

		.green-bg {
			background: #bef5d7;
			border-color: #6bb392;
		}

		.stats {
			display: flex;
			justify-content: space-between;
			align-items: center;
			background: #d7c6e9;
			padding: 0.8rem 1.8rem;
			border-radius: 60px;
			margin: 1.8rem 0 0.8rem;
			border: 2px solid white;
			font-weight: 600;
			color: #28223b;
		}

		.score {
			background: #3e284f;
			color: #f3eafd;
			padding: 0.4rem 1.2rem;
			border-radius: 40px;
			font-size: 1.3rem;
		}

		.new-btn {
			background: white;
			border: 3px solid #b397d4;
			color: #2c1b3b;
			font-size: 1.25rem;
			font-weight: 700;
			padding: 0.8rem 2rem;
			border-radius: 60px;
			cursor: pointer;
			transition: all 0.1s;
			box-shadow: 0 5px 0 #7d649b;
			margin-top: 0.5rem;
			width: fit-content;
			margin-left: auto;
			margin-right: auto;
		}

		.new-btn:hover {
			background: #f1e5ff;
			transform: translateY(-2px);
			box-shadow: 0 7px 0 #7d649b;
		}

		.new-btn:active {
			transform: translateY(5px);
			box-shadow: 0 2px 0 #7d649b;
		}

		.counter {
			font-size: 1.2rem;
		}

		.wrong-highlight {
			border: 4px solid #ff8989 !important;
			background: #ffe1e1 !important;
		}
	</style>
</head>

<body>
	<div class="card">
		<h1>‚úñÔ∏è √ó2 ‚úñÔ∏è</h1>
		<div class="subhead">—Ç—Ä–µ–Ω–∞–∂—ë—Ä ‚Äî –¥–≤–æ–π–∫–∞</div>

		<!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ä–∏–º–µ—Ä -->
		<div class="equation" id="equationBox">
			<div class="big-math" id="questionDisplay">
				<!-- –ø—Ä–∏–º–µ—Ä –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JS -->
			</div>
		</div>

		<div class="input-area">
			<div class="answer-box">
				<input type="number" id="answerInput" placeholder="?" value="" inputmode="numeric">
				<button id="checkBtn">‚úÖ</button>
			</div>
			<div id="message" class="hint-message">üëÜ –≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç</div>
		</div>

		<div class="stats">
			<span class="counter" id="exampleCounter">–ø—Ä–∏–º–µ—Ä 1 / 10</span>
			<span class="score" id="scoreDisplay">‚≠ê 0</span>
		</div>

		<button class="new-btn" id="resetBtn">üîÑ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
	</div>

	<script>
		(function() {
			// --- —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞ ---
			let currentFirstNumber = 2; // –≤—Å–µ–≥–¥–∞ 2, –Ω–æ —Ä–∞–¥–∏ –≥–∏–±–∫–æ—Å—Ç–∏ –æ—Å—Ç–∞–≤–∏–º
			let currentSecondNumber = 2; // –Ω–∞—á–Ω—ë–º —Å 2x2
			let currentCorrectAnswer = 4;

			let score = 0;
			let totalAttempts = 0; // –≤—Å–µ–≥–æ –ø–æ–ø—ã—Ç–æ–∫ (–¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö)
			let examplesDone = 0; // —Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ–∫–∞–∑–∞–Ω–æ (–∏–¥–µ—Ç —Å 0 –¥–æ 10)

			// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞ –ø–æ–¥—Ö–æ–¥
			const MAX_EXAMPLES = 10;

			// –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –¥–ª—è –¥–≤–æ–π–∫–∏: –æ—Ç 1 –¥–æ 9 (2x1 ... 2x9)
			const multipliers = [1, 2, 3, 4, 5, 6, 7, 8, 9];

			// –≠–ª–µ–º–µ–Ω—Ç—ã DOM
			const questionDisplay = document.getElementById('questionDisplay');
			const answerInput = document.getElementById('answerInput');
			const checkBtn = document.getElementById('checkBtn');
			const messageDiv = document.getElementById('message');
			const exampleCounterSpan = document.getElementById('exampleCounter');
			const scoreDisplaySpan = document.getElementById('scoreDisplay');
			const resetBtn = document.getElementById('resetBtn');
			const equationBox = document.getElementById('equationBox');

			// --- –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ---
			function updateCounterText() {
				exampleCounterSpan.textContent = `–ø—Ä–∏–º–µ—Ä ${examplesDone} / ${MAX_EXAMPLES}`;
			}

			function updateScoreText() {
				scoreDisplaySpan.textContent = `‚≠ê ${score}`;
			}

			// –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å (–æ—Ç 1 –¥–æ 9) –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
			function getRandomMultiplier() {
				const randomIndex = Math.floor(Math.random() * multipliers.length);
				return multipliers[randomIndex];
			}

			// –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
			function renderQuestion() {
				// —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤—ã–π HTML c –∂–∏—Ä–Ω–æ–π –¥–≤–æ–π–∫–æ–π
				questionDisplay.innerHTML = `
                <span>${currentFirstNumber}</span>
                <span>√ó</span>
                <span>${currentSecondNumber}</span>
                <span>=</span>
                <span>?</span>
            `;
			}

			// –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä (–≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å)
			function generateNewExample() {
				// –µ—Å–ª–∏ —É–∂–µ –ø—Ä–æ—à–ª–∏ 10 –ø—Ä–∏–º–µ—Ä–æ–≤, –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π, –∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
				if (examplesDone >= MAX_EXAMPLES) {
					questionDisplay.innerHTML = `<span style="font-size:2.5rem;">üéâ –ú–æ–ª–æ–¥–µ—Ü! üéâ</span>`;
					answerInput.disabled = true;
					checkBtn.disabled = true;
					messageDiv.textContent = '–¢—ã –≤—ã—É—á–∏–ª(–∞) –¥–≤–æ–π–∫—É!';
					return;
				}

				// –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è —á–∏—Å–ª–∞ 2
				const nextMultiplier = getRandomMultiplier();
				currentFirstNumber = 2;
				currentSecondNumber = nextMultiplier;
				currentCorrectAnswer = 2 * nextMultiplier;

				// –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º
				renderQuestion();

				// –æ—á–∏—Å—Ç–∏–º –ø–æ–ª–µ –≤–≤–æ–¥–∞, —É–±–µ—Ä—ë–º –ø–æ–¥—Å–≤–µ—Ç–∫—É
				answerInput.value = '';
				answerInput.disabled = false;
				checkBtn.disabled = false;
				answerInput.focus();

				// —Å–±—Ä–æ—Å–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ
				messageDiv.textContent = '‚úèÔ∏è –Ω–∞–ø–∏—à–∏ –æ—Ç–≤–µ—Ç';
				messageDiv.classList.remove('green-bg');
				equationBox.classList.remove('wrong-highlight');
			}

			// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ Enter)
			function handleCheckAnswer() {
				// –∑–∞—â–∏—Ç–∞: –µ—Å–ª–∏ already completed or input disabled
				if (examplesDone >= MAX_EXAMPLES || answerInput.disabled) return;

				const rawValue = answerInput.value.trim();
				if (rawValue === '') {
					messageDiv.textContent = 'üîî –≤–≤–µ–¥–∏ —á–∏—Å–ª–æ';
					return;
				}

				const userAnswer = Number(rawValue);
				// –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —ç—Ç–æ —á–∏—Å–ª–æ (–µ—Å–ª–∏ –≤–≤–µ–ª–∏ –±—É–∫–≤—ã ‚Äî Number –¥–∞—Å—Ç NaN)
				if (isNaN(userAnswer)) {
					messageDiv.textContent = '‚ùå —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã';
					return;
				}

				// —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
				if (userAnswer === currentCorrectAnswer) {
					// –ø—Ä–∞–≤–∏–ª—å–Ω–æ
					score++;
					totalAttempts++;
					examplesDone++; // —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ —Ä–µ—à—ë–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

					updateScoreText();
					updateCounterText();

					// –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
					messageDiv.textContent = `‚úÖ –í–µ—Ä–Ω–æ! 2 √ó ${currentSecondNumber} = ${currentCorrectAnswer}`;
					messageDiv.classList.add('green-bg');
					equationBox.classList.remove('wrong-highlight');

					// –ï—Å–ª–∏ –µ—â—ë –Ω–µ –≤—Å—ë, —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –ø–∞—É–∑—É –≥—Ä—É–∑–∏–º –Ω–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
					if (examplesDone < MAX_EXAMPLES) {
						answerInput.disabled = true; // –±–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–∏–µ
						checkBtn.disabled = true;
						setTimeout(() => {
							generateNewExample();
						}, 650);
					} else {
						// –í—Å–µ 10 –ø—Ä–∏–º–µ—Ä–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!
						questionDisplay.innerHTML = `<span style="font-size:2.5rem;">üèÜ –û—Ç–ª–∏—á–Ω–æ! üèÜ</span>`;
						answerInput.disabled = true;
						checkBtn.disabled = true;
						messageDiv.textContent = `–¢—ã –Ω–∞–±—Ä–∞–ª(–∞) ${score} –∏–∑ ${MAX_EXAMPLES} ‚ú®`;
					}
				} else {
					// –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
					totalAttempts++;
					messageDiv.textContent = `‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë: 2 √ó ${currentSecondNumber} = ?`;
					messageDiv.classList.remove('green-bg');
					equationBox.classList.add('wrong-highlight'); // –∫—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞
					// –ø–æ–¥—Å–≤–µ—Ç–∏–º –ø–æ–ª–µ
					answerInput.classList.add('wrong-highlight');
					setTimeout(() => {
						answerInput.classList.remove('wrong-highlight');
					}, 300);
					answerInput.focus();
					// –±–∞–ª–ª—ã –Ω–µ –º–µ–Ω—è—é—Ç—Å—è, –ø—Ä–∏–º–µ—Ä –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
				}
			}

			// –°–±—Ä–æ—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ)
			function resetGame() {
				// —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ —Å—á—ë—Ç—á–∏–∫–∏
				score = 0;
				totalAttempts = 0;
				examplesDone = 0;

				// –≤—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å 2 –Ω–∞—á–∏–Ω–∞—Ç—å)
				const startMultiplier = getRandomMultiplier();
				currentFirstNumber = 2;
				currentSecondNumber = startMultiplier;
				currentCorrectAnswer = 2 * startMultiplier;

				// –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
				updateScoreText();
				updateCounterText();

				// —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë
				answerInput.disabled = false;
				checkBtn.disabled = false;
				answerInput.value = '';

				// –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å
				renderQuestion();
				messageDiv.textContent = 'üëÜ –≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç';
				messageDiv.classList.remove('green-bg');
				equationBox.classList.remove('wrong-highlight');

				// —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ
				answerInput.focus();
			}

			// --- –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π ---
			checkBtn.addEventListener('click', handleCheckAnswer);

			// –Ω–∞–∂–∞—Ç–∏–µ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
			answerInput.addEventListener('keypress', (e) => {
				if (e.key === 'Enter') {
					e.preventDefault();
					handleCheckAnswer();
				}
			});

			resetBtn.addEventListener('click', resetGame);

			// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
			(function init() {
				// –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
				currentFirstNumber = 2;
				// –ø—É—Å—Ç—å –±—É–¥–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –∞ –Ω–µ –≤—Å–µ–≥–¥–∞ 2x2
				const randomStart = multipliers[Math.floor(Math.random() * multipliers.length)];
				currentSecondNumber = randomStart;
				currentCorrectAnswer = 2 * randomStart;
				examplesDone = 0; // —Å—á—ë—Ç—á–∏–∫ —Å –Ω—É–ª—è
				score = 0;
				updateScoreText();
				updateCounterText();
				renderQuestion();
				answerInput.focus();
				messageDiv.textContent = 'üëÜ –≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç';
			})();

		})();
	</script>
</body></html>