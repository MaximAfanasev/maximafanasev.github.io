<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="image/x-icon" rel="icon" href="../../img/flag.png">
    <title>ÎÑ§</title>
    <link rel="stylesheet" href="../../css/p.css">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞ */
        .compact-timer {
            position: fixed;
          	top: 20px;
            left: calc(50% - 110px);
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 12px 15px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 150px;
        }
        
        .timer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: #FFD700;
        }
        
        .timer-number {
            font-size: 1.4rem;
            font-weight: bold;
            color: white;
            text-align: center;
            margin-bottom: 8px;
            font-family: monospace;
        }
        
        .sticks-container {
            display: flex;
            justify-content: center;
            gap: 3px;
            margin-bottom: 5px;
            height: 30px;
            align-items: flex-end;
        }
        
        .stick {
            width: 8px;
            background-color: #FFD700;
            border-radius: 1px;
            transition: all 0.4s ease;
            opacity: 1;
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
        }
        
        .stick.inactive {
            opacity: 0.2;
            transform: scaleY(0.7);
        }
        
        .progress-container {
            width: 100%;
            height: 3px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #FFD700;
            width: 100%;
            transition: width 1s linear;
            border-radius: 2px;
        }
        
        .timer-message {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            margin-top: 5px;
        }
    </style>
</head>

<body>
    <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ç–∞–π–º–µ—Ä -->
    <div class="compact-timer" id="compactTimer">
        <div class="timer-header">
            <span>‚è±Ô∏è –¢–∞–π–º–µ—Ä</span>
            <span id="timerCount">10—Å</span>
        </div>
        <div class="timer-number" id="timerNumber">10</div>
        <div class="sticks-container" id="sticksContainer"></div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="timer-message" id="timerMessage">–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...</div>
    </div>
    
    <div class="container">
        <div class="inputs-container">
            <input type="text" class="input-box" maxlength="1" placeholder="„Ñ¥">
            <input type="text" class="input-box" maxlength="1" placeholder="„Öî">
        </div>
        <button id="hidePlaceholderBtn">üëÄ</button>
    </div>


    <script>
        const targetCharacters = ['„Ñ¥', '„Öî'];
    </script>
    <script src="../../js/l.js"></script>
    
    <script>
        // –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ç–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
        document.addEventListener('DOMContentLoaded', function() {
            // –°–æ–∑–¥–∞–µ–º –ø–∞–ª–æ—á–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
            const sticksContainer = document.getElementById('sticksContainer');
            for (let i = 0; i < 10; i++) {
                const stick = document.createElement('div');
                stick.className = 'stick';
                stick.style.height = `${15 + (i % 3)}px`; // –†–∞–∑–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞
                sticksContainer.appendChild(stick);
            }
            
            // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
            let timeLeft = 9;
            const timerNumber = document.getElementById('timerNumber');
            const timerCount = document.getElementById('timerCount');
            const progressBar = document.getElementById('progressBar');
            const timerMessage = document.getElementById('timerMessage');
            const allSticks = document.querySelectorAll('.stick');
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
            function updateCompactTimer() {
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
                timerNumber.textContent = timeLeft;
                timerCount.textContent = `${timeLeft}—Å`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                const progressWidth = (timeLeft / 10) * 100;
                progressBar.style.width = `${progressWidth}%`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–ª–æ—á–∫–∏
                const activeSticks = 10 - timeLeft;
                allSticks.forEach((stick, index) => {
                    if (index < activeSticks) {
                        stick.classList.add('inactive');
                    } else {
                        stick.classList.remove('inactive');
                    }
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                if (timeLeft <= 3) {
                    timerMessage.textContent = "–£—Ö–æ–¥–∏...";
                    timerMessage.style.color = "#FFD700";
                } else if (timeLeft <= 6) {
                    timerMessage.textContent = "–ò–ª–∏";
                    timerMessage.style.color = "#FFD700";
                } else {
                    timerMessage.textContent = "–ü—Ä–æ—Ö–æ–¥–∏ —É—Ä–æ–≤–µ–Ω—å...";
                    timerMessage.style.color = "#FFD700";
                }
                
                // –£–º–µ–Ω—å—à–∞–µ–º –≤—Ä–µ–º—è
                timeLeft--;
                
                // –ö–æ–≥–¥–∞ –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ
                if (timeLeft < 0) {
                    clearInterval(timerInterval);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                    timerNumber.textContent = "0";
                    timerCount.textContent = "0—Å";
                    progressBar.style.width = "0%";
                    
                    // –î–µ–ª–∞–µ–º –≤—Å–µ –ø–∞–ª–æ—á–∫–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏
                    allSticks.forEach(stick => {
                        stick.classList.add('inactive');
                    });
                    
                    timerMessage.textContent = "HASTA LA VISTA...";
                    timerMessage.style.color = "#FFD700";
                    
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
                    setTimeout(() => {
                        window.location.href = "../index.html"; // –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π URL
                        
                        // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ - –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
                        document.getElementById('compactTimer').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('compactTimer').style.display = 'none';
                        }, 500);
                    }, 500);
                }
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            const timerInterval = setInterval(updateCompactTimer, 1000);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateCompactTimer();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç—å —Ç–∞–π–º–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            const timerHeader = document.querySelector('.timer-header');
            let closeTimer = document.createElement('span');
            closeTimer.innerHTML = '‚úï';
            closeTimer.style.cursor = 'pointer';
            closeTimer.style.fontSize = '0.8rem';
            closeTimer.style.marginLeft = '5px';
            closeTimer.addEventListener('click', function() {
                clearInterval(timerInterval);
                document.getElementById('compactTimer').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('compactTimer').style.display = 'none';
                }, 300);
            });
            
            document.querySelector('.timer-header').appendChild(closeTimer);
        });
    </script>
</body>
</html>